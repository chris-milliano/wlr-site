webpackJsonp([1],{0:function(n,l,t){n.exports=t("cDNt")},cDNt:function(n,l,t){"use strict";function e(n){return f._34(0,[(n()(),f._18(0,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),f._33(-1,null,["Waiting on GPS"]))],null,null)}function o(n){return f._34(0,[(n()(),f._18(0,0,null,null,3,"agm-marker",[],null,null,null,null,null)),f._16(1,1720320,null,1,O.a,[C.a],{latitude:[0,"latitude"],longitude:[1,"longitude"],label:[2,"label"]},null),f._31(603979776,1,{infoWindow:1}),(n()(),f._33(-1,null,["\n        "]))],function(n,l){n(l,1,0,l.context.$implicit.lat,l.context.$implicit.lng,l.context.$implicit.label)},null)}function u(n){return f._34(0,[(n()(),f._18(0,0,null,null,2,"agm-circle",[],null,null,null,null,null)),f._16(1,737280,null,0,H.a,[I.a],{latitude:[0,"latitude"],longitude:[1,"longitude"],fillColor:[2,"fillColor"],radius:[3,"radius"]},null),(n()(),f._33(-1,null,["\n        "]))],function(n,l){n(l,1,0,l.context.$implicit.lat,l.context.$implicit.lng,"#00f",l.context.$implicit.radius)},null)}function r(n){return f._34(0,[(n()(),f._18(0,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),f._33(1,null,["VISITED: ",", ",""]))],null,function(n,l){n(l,1,0,l.context.$implicit.title,l.context.$implicit.visited)})}function i(n){return f._34(0,[(n()(),f._18(0,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),f._33(1,null,["",""]))],null,function(n,l){n(l,1,0,l.context.$implicit.title)})}function a(n){return f._34(0,[(n()(),f._18(0,0,null,null,38,"div",[],null,null,null,null,null)),(n()(),f._33(-1,null,["\n\n\n    "])),(n()(),f._18(2,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),f._33(3,null,["GPS ","s  --\x3e  lat= ",",  long= ",""])),(n()(),f._33(-1,null,["\n\n\n    "])),(n()(),f._18(5,0,null,null,23,"agm-map",[],[[2,"sebm-google-map-container",null]],null,null,j.b,j.a)),f._30(4608,null,C.a,C.a,[A.a,f.H]),f._30(4608,null,I.a,I.a,[A.a,f.H]),f._30(4608,null,D.a,D.a,[A.a,f.H,C.a]),f._30(4608,null,L.a,L.a,[A.a,f.H]),f._30(4608,null,Y.a,Y.a,[A.a,f.H]),f._30(4608,null,B.a,B.a,[A.a,f.H]),f._30(4608,null,F.a,F.a,[A.a,f.H]),f._30(512,null,A.a,A.a,[N.a,f.H]),f._16(14,770048,null,0,z.a,[f.o,A.a],{longitude:[0,"longitude"],latitude:[1,"latitude"],zoom:[2,"zoom"]},null),(n()(),f._33(-1,0,["\n\n        "])),(n()(),f._33(-1,0,["\n        "])),(n()(),f._12(16777216,null,0,1,null,o)),f._16(18,802816,null,0,T.h,[f._1,f.Y,f.z],{ngForOf:[0,"ngForOf"]},null),(n()(),f._33(-1,0,["\n        "])),(n()(),f._12(16777216,null,0,1,null,u)),f._16(21,802816,null,0,T.h,[f._1,f.Y,f.z],{ngForOf:[0,"ngForOf"]},null),(n()(),f._33(-1,0,["\n\n\n        "])),(n()(),f._33(-1,0,["\n        "])),(n()(),f._18(24,0,null,0,3,"agm-marker",[],null,null,null,null,null)),f._16(25,1720320,null,1,O.a,[C.a],{latitude:[0,"latitude"],longitude:[1,"longitude"]},null),f._31(603979776,2,{infoWindow:1}),(n()(),f._33(-1,null,["\n        "])),(n()(),f._33(-1,0,["\n\n    "])),(n()(),f._33(-1,null,["\n\n    "])),(n()(),f._12(16777216,null,null,1,null,r)),f._16(31,802816,null,0,T.h,[f._1,f.Y,f.z],{ngForOf:[0,"ngForOf"]},null),(n()(),f._33(-1,null,["\n\n\n    "])),(n()(),f._18(33,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),f._33(-1,null,["LOCAL STORAGE:"])),(n()(),f._33(-1,null,["\n    "])),(n()(),f._12(16777216,null,null,1,null,i)),f._16(37,802816,null,0,T.h,[f._1,f.Y,f.z],{ngForOf:[0,"ngForOf"]},null),(n()(),f._33(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,14,0,t.userGPS.coords.longitude,t.userGPS.coords.latitude,15),n(l,18,0,t.markers),n(l,21,0,t.markers),n(l,25,0,t.userGPS.coords.latitude,t.userGPS.coords.longitude),n(l,31,0,t.visitedMarkers),n(l,37,0,t.markerInLocalStorage)},function(n,l){var t=l.component;n(l,3,0,t.userGPS.timestamp,t.userGPS.coords.latitude,t.userGPS.coords.longitude);n(l,5,0,!0)})}function c(n){return f._34(0,[(n()(),f._12(16777216,null,null,1,null,e)),f._16(1,16384,null,0,T.i,[f._1,f.Y],{ngIf:[0,"ngIf"]},null),(n()(),f._33(-1,null,["\n"])),(n()(),f._12(16777216,null,null,1,null,a)),f._16(4,16384,null,0,T.i,[f._1,f.Y],{ngIf:[0,"ngIf"]},null),(n()(),f._33(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,1,0,!t.userGPS.coords),n(l,4,0,t.userGPS.coords)},null)}function s(n){return f._34(0,[(n()(),f._18(0,0,null,null,1,"app-gps",[],null,null,null,c,U)),f._16(1,245760,null,0,y,[P],null,null)],function(n,l){n(l,1,0)},null)}function _(n){return f._34(0,[(n()(),f._18(0,0,null,null,4,"div",[["class","container"],["id","home-container"]],null,null,null,null,null)),(n()(),f._33(-1,null,["\n    "])),(n()(),f._18(2,0,null,null,1,"div",[["class","button"]],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;if("click"===l){e=!1!==o.goTo("/gps")&&e}return e},null,null)),(n()(),f._33(-1,null,["GPS"])),(n()(),f._33(-1,null,["\n"])),(n()(),f._33(-1,null,["\n"]))],null,null)}function g(n){return f._34(0,[(n()(),f._18(0,0,null,null,1,"app-home",[],null,null,null,_,q)),f._16(1,114688,null,0,k,[b.k],null,null)],function(n,l){n(l,1,0)},null)}function d(n){return f._34(0,[(n()(),f._18(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),f._16(1,212992,null,0,b.m,[b.b,f._1,f.l,[8,null],f.i],null,null),(n()(),f._33(-1,null,["\n"]))],function(n,l){n(l,1,0)},null)}function p(n){return f._34(0,[(n()(),f._18(0,0,null,null,1,"app-root",[],null,null,null,d,Z)),f._16(1,49152,null,0,G,[],null,null)],null,null)}Object.defineProperty(l,"__esModule",{value:!0});var f=t("/oeL"),m={production:!0,GMAP_KEY:"AIzaSyC-A-cGUGzab7HNmN7GwP-BX4jNHYZgUGg"},h=t("a0oU"),b=t("BkNc"),k=function(){function n(n){this.router=n}return n.prototype.ngOnInit=function(){},n.prototype.goTo=function(n){this.router.navigateByUrl(n)},n.ctorParameters=function(){return[{type:b.k}]},n}(),v=t("AP4T"),S={"errors.location.unsupportedBrowser":"Browser does not support location services","errors.location.permissionDenied":"You have rejected access to your location","errors.location.positionUnavailable":"Unable to determine your location","errors.location.timeout":"Service timeout has been reached"},P=function(){function n(){}return n.prototype.getLocation=function(){return v.a.create(function(n){window.navigator&&window.navigator.geolocation?window.navigator.geolocation.watchPosition(function(l){console.log("service.watchLocation()",l),n.next(l)},function(l){switch(l.code){case 1:n.error(S["errors.location.permissionDenied"]);break;case 2:n.error(S["errors.location.positionUnavailable"]);break;case 3:n.error(S["errors.location.timeout"])}},{enableHighAccuracy:!0,maximumAge:3e4,timeout:27e3}):n.error(S["errors.location.unsupportedBrowser"])})},n.ctorParameters=function(){return[]},n}(),w=function(){function n(){}return n}(),y=(function(){function n(){}}(),function(){function n(n){this.gpsService=n,this.userGPS=new w,this.markers=[{lat:38.60834,lng:-90.2408,title:"Starbucks",radius:20,label:"A",visited:!1},{lat:38.61052,lng:-90.24927,title:"Our House",radius:20,label:"B",visited:!1}],this.visitedMarkers=[]}return n.prototype.ngOnInit=function(){var n=this;console.log("Init location-button.component"),this.gpsSubscription=this.gpsService.getLocation().subscribe(function(l){n.userGPS=l,console.log("GPS GET: ",n.userGPS),n.checkMarkerDistances()}),this.getLocalStorage()},n.prototype.checkMarkerDistances=function(){console.log("Check marker distance");for(var n=new google.maps.LatLng({lat:this.userGPS.coords.latitude,lng:this.userGPS.coords.longitude}),l=0,t=this.markers;l<t.length;l++){var e=t[l],o=new google.maps.LatLng({lat:e.lat,lng:e.lng}),u=google.maps.geometry.spherical.computeDistanceBetween(n,o);u<e.radius&&!e.visited&&(this.visitedMarkers.push(e),console.log("add",this.visitedMarkers)),console.log("Marker:",e,u)}this.visitedMarkers&&(console.log("Handle visitedMarkers"),this.handleVisitedMarkers())},n.prototype.handleVisitedMarkers=function(){if(this.visitedMarkers){console.log("Handle visitedMarkers fxn");for(var n=0,l=this.visitedMarkers;n<l.length;n++){var t=l[n];console.log("Try posting marker to API"),console.log("If POST fails AND the marker is not already stored then store marker locally"),t.visited=!0}"undefined"!=typeof Storage?localStorage.setItem("storedVisitedMarkers",JSON.stringify(this.visitedMarkers)):window.alert("Sorry! The upload has failed and your device does not have Web Storage support."),this.getLocalStorage()}},n.prototype.getLocalStorage=function(){"undefined"!=typeof Storage?this.markerInLocalStorage=JSON.parse(localStorage.getItem("storedVisitedMarkers")):window.alert("Sorry! Your device does not have Web Storage support.")},n.prototype.ngOnDestroy=function(){this.gpsSubscription.unsubscribe()},n.ctorParameters=function(){return[{type:P}]},n}()),x=(h.a.forRoot({apiKey:m.GMAP_KEY}),function(){function n(){}return n}()),G=function(){function n(){this.title="app"}return n}(),M=["agm-map[_ngcontent-%COMP%]{height:300px}"],O=t("57RD"),C=t("dY6p"),H=t("Da1i"),I=t("DCX4"),j=t("9U4N"),A=t("BfPg"),D=t("KdOF"),L=t("Ds4W"),Y=t("9fk+"),B=t("mECe"),F=t("7PDj"),N=t("wW3n"),z=t("t+Rn"),T=t("qbdv"),E=[M],U=f._15({encapsulation:0,styles:E,data:{}}),$=f._13("app-gps",y,s,{},{},[]),W=["#home-container[_ngcontent-%COMP%]{width:100vw;min-height:100vh}#home-container[_ngcontent-%COMP%], #home-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}#home-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:300px;height:50px;color:#fff;background-color:#ef8319;transition:all 1s ease}#home-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#4d4d4d}"],V=[W],q=f._15({encapsulation:0,styles:V,data:{}}),K=f._13("app-home",k,g,{},{},[]),R=["body[_ngcontent-%COMP%]{margin:0}"],X=[R],Z=f._15({encapsulation:0,styles:X,data:{}}),J=f._13("app-root",G,p,{},{},[]),Q=t("fc+i"),nn=t("niyx"),ln=t("wvx+"),tn=t("q+Vp"),en=f._14(x,[G],function(n){return f._27([f._28(512,f.l,f._10,[[8,[$,K,J]],[3,f.l],f.F]),f._28(5120,f.B,f._26,[[3,f.B]]),f._28(4608,T.k,T.j,[f.B]),f._28(5120,f.c,f._19,[]),f._28(5120,f.z,f._24,[]),f._28(5120,f.A,f._25,[]),f._28(4608,Q.b,Q.s,[T.c]),f._28(6144,f.T,null,[Q.b]),f._28(4608,Q.e,Q.f,[]),f._28(5120,Q.c,function(n,l,t,e){return[new Q.k(n),new Q.o(l),new Q.n(t,e)]},[T.c,T.c,T.c,Q.e]),f._28(4608,Q.d,Q.d,[Q.c,f.H]),f._28(135680,Q.m,Q.m,[T.c]),f._28(4608,Q.l,Q.l,[Q.d,Q.m]),f._28(6144,f.R,null,[Q.l]),f._28(6144,Q.p,null,[Q.m]),f._28(4608,f.Z,f.Z,[f.H]),f._28(4608,Q.g,Q.g,[T.c]),f._28(4608,Q.i,Q.i,[T.c]),f._28(5120,b.a,b.v,[b.k]),f._28(4608,b.d,b.d,[]),f._28(6144,b.f,null,[b.d]),f._28(135680,b.n,b.n,[b.k,f.E,f.j,f.x,b.f]),f._28(4608,b.e,b.e,[]),f._28(5120,b.h,b.y,[b.w]),f._28(5120,f.b,function(n){return[n]},[b.h]),f._28(4608,nn.c,nn.c,[]),f._28(4608,nn.b,nn.b,[]),f._28(4608,N.a,ln.b,[ln.a,nn.c,nn.b]),f._28(4608,P,P,[]),f._28(512,T.b,T.b,[]),f._28(1024,f.p,Q.q,[]),f._28(1024,f.G,function(){return[b.r()]},[]),f._28(512,b.w,b.w,[f.x]),f._28(1024,f.d,function(n,l,t){return[Q.r(n,l),b.x(t)]},[[2,Q.h],[2,f.G],b.w]),f._28(512,f.e,f.e,[[2,f.d]]),f._28(131584,f._17,f._17,[f.H,f._11,f.x,f.p,f.l,f.e]),f._28(2048,f.g,null,[f._17]),f._28(512,f.f,f.f,[f.g]),f._28(512,Q.a,Q.a,[[3,Q.a]]),f._28(1024,b.q,b.t,[[3,b.k]]),f._28(512,b.p,b.c,[]),f._28(512,b.b,b.b,[]),f._28(256,b.g,{},[]),f._28(1024,T.g,b.s,[T.m,[2,T.a],b.g]),f._28(512,T.f,T.f,[T.g]),f._28(512,f.j,f.j,[]),f._28(512,f.E,f.W,[f.j,[2,f.X]]),f._28(1024,b.i,function(){return[[{path:"gps",component:y},{path:"home",component:k},{path:"",redirectTo:"/home",pathMatch:"full"}]]},[]),f._28(1024,b.k,b.u,[f.g,b.p,b.b,T.f,f.x,f.E,f.j,b.i,b.g,[2,b.o],[2,b.j]]),f._28(512,b.l,b.l,[[2,b.q],[2,b.k]]),f._28(512,tn.a,tn.a,[]),f._28(512,x,x,[]),f._28(256,ln.a,{apiKey:"AIzaSyC-A-cGUGzab7HNmN7GwP-BX4jNHYZgUGg"},[])])});m.production&&Object(f._5)(),Object(Q.j)().bootstrapModuleFactory(en).catch(function(n){return console.log(n)})},gFIY:function(n,l){function t(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id="gFIY"}},[0]);